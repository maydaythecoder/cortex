// ARRAY AND DICTIONARY TEST
// Tests array and dictionary creation, access, and operations

func main[] |
  print["=== ARRAY AND DICTIONARY TEST ==="]
  
  // ========================================
  // ARRAY TESTS
  // ========================================
  print["\n--- Array Tests ---"]
  
  // Empty array
  let empty := []
  print["Empty array: " + str[empty]]
  print["Empty length: " + str[len[empty]]]
  
  // Number array
  let numbers := [1, 2, 3, 4, 5]
  print["Numbers: " + str[numbers]]
  print["Numbers length: " + str[len[numbers]]]
  
  // Mixed type array
  let mixed := [1, "hello", true, null, 3.14]
  print["Mixed array: " + str[mixed]]
  
  // Nested arrays
  let matrix := [[1, 2], [3, 4], [5, 6]]
  print["Matrix: " + str[matrix]]
  
  // Deep nesting
  let tensor := [[[1, 2], [3, 4]], [[5, 6], [7, 8]]]
  print["Tensor: " + str[tensor]]
  
  // Array indexing
  print["\n--- Array Indexing ---"]
  print["numbers[0]: " + str[numbers[0]]]
  print["numbers[2]: " + str[numbers[2]]]
  print["numbers[4]: " + str[numbers[4]]]
  print["mixed[1]: " + str[mixed[1]]]
  print["matrix[0]: " + str[matrix[0]]]
  print["matrix[1][0]: " + str[matrix[1][0]]]
  print["tensor[0][1][1]: " + str[tensor[0][1][1]]]
  
  // ========================================
  // DICTIONARY TESTS
  // ========================================
  print["\n--- Dictionary Tests ---"]
  
  // Empty dictionary
  let empty_dict := {}
  print["Empty dict: " + str[empty_dict]]
  print["Empty dict length: " + str[len[empty_dict]]]
  
  // Simple dictionary
  let person := {"name": "Alice", "age": 30, "active": true}
  print["Person: " + str[person]]
  print["Person length: " + str[len[person]]]
  
  // Mixed value types
  let config := {
    "debug": false,
    "version": "1.0",
    "port": 8080,
    "data": [1, 2, 3]
  }
  print["Config: " + str[config]]
  
  // Nested dictionaries
  let nested := {
    "user": {"name": "Bob", "id": 123},
    "settings": {"theme": "dark", "lang": "en"}
  }
  print["Nested: " + str[nested]]
  
  // Dictionary access
  print["\n--- Dictionary Access ---"]
  print["person['name']: " + str[person["name"]]]
  print["person['age']: " + str[person["age"]]]
  print["person['active']: " + str[person["active"]]]
  print["config['port']: " + str[config["port"]]]
  print["config['data']: " + str[config["data"]]]
  print["nested['user']: " + str[nested["user"]]]
  print["nested['user']['name']: " + str[nested["user"]["name"]]]
  
  // ========================================
  // COMPLEX COMBINATIONS
  // ========================================
  print["\n--- Complex Combinations ---"]
  
  // Array of dictionaries
  let users := [
    {"name": "Alice", "score": 95},
    {"name": "Bob", "score": 87},
    {"name": "Charlie", "score": 92}
  ]
  print["Users: " + str[users]]
  print["First user: " + str[users[0]]]
  print["First user name: " + str[users[0]["name"]]]
  print["Second user score: " + str[users[1]["score"]]]
  
  // Dictionary with array values
  let data := {
    "numbers": [1, 2, 3, 4, 5],
    "strings": ["a", "b", "c"],
    "mixed": [1, "two", 3.0]
  }
  print["Data: " + str[data]]
  print["Numbers: " + str[data["numbers"]]]
  print["First number: " + str[data["numbers"][0]]]
  
  print["\n=== ARRAY AND DICTIONARY TESTS PASSED ==="]
^

main[]